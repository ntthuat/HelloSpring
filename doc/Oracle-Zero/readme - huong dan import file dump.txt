Small dataset dump can be found here: /CSC_wk/datapump/smalldump20160420.dmp

 

Follow these steps to import to your local machine:

sqlplus / as sysdba

CREATE TABLESPACE I15_DATA;

CREATE TABLESPACE I15_IDX;

CREATE TEMPORARY TABLESPACE I15_TEMP;

 

CREATE USER daito15 identified by daito15 default tablespace I15_DATA temporary tablespace I15_TEMP;

 

CREATE DIRECTORY DATA_PUMP_DIR2 as '<folder on your machine where you put the dump file>'; (ex: /CSC_wk/datapump/)

GRANT read, write on directory DATA_PUMP_DIR2 to daito15;

 

impdp USERID=daito15/daito15 DIRECTORY=DATA_PUMP_DIR2 DUMPFILE=smalldump20160420.dmp LOGFILE=smalllog20160420.log

 

In case you don’t like this username daito15, can change it to anything else. Then, add this to impdp command:

REMAP_SCHEMA='<new user name>:DAITO15'



----------------------------------------------------------------------------------------------
If you want to import small dataset dump to your local (windows), please follow these edited steps based on Khoa’s:

1/ Create the data’s location folders to keep the data for better enhancement:

On my local, I created DAITO_DATA, DAITO_DUMP folders in D disk. You can change whether you want.

 

2/ Create and provide the permisson to prepare for importing:

sqlplus / as sysdba

DROP TABLESPACE "I15_DATA" INCLUDING CONTENTS AND DATAFILES;
DROP TABLESPACE "I15_IDX" INCLUDING CONTENTS AND DATAFILES;
DROP TABLESPACE "I15_TEMP" INCLUDING CONTENTS AND DATAFILES;

CREATE TABLESPACE "I15_DATA" DATAFILE 'D:\DAITO_DATA\I15_DATA' SIZE 16G AUTOEXTEND ON NEXT 8G MAXSIZE UNLIMITED;
CREATE TABLESPACE "I15_IDX" DATAFILE 'D:\DAITO_DATA\I15_IDX' SIZE 16G REUSE AUTOEXTEND ON NEXT 8G MAXSIZE UNLIMITED;
CREATE TEMPORARY TABLESPACE "I15_TEMP" TEMPFILE 'D:\DAITO_DATA\I15_TEMP' SIZE 16G AUTOEXTEND ON NEXT 8G MAXSIZE UNLIMITED;

CREATE USER daito15 identified by daito15 default tablespace I15_DATA temporary tablespace I15_TEMP;
GRANT UNLIMITED TABLESPACE TO "DAITO15" WITH ADMIN OPTION;
GRANT "CONNECT" TO "DAITO15" WITH ADMIN OPTION;
GRANT "DBA" TO "DAITO15" WITH ADMIN OPTION;

CREATE OR REPLACE DIRECTORY DATA_PUMP_DIR2 as 'C:/QTE/Daito/Iteration 1.5/DB/dump'; 
GRANT read, write on directory DATA_PUMP_DIR2 to daito15;

3/ Importing the dump:

impdp USERID=daito15/daito15 DIRECTORY=DATA_PUMP_DIR2 DUMPFILE=smalldump20160421.dmp LOGFILE=smalllog20160421.log

 

4/ Check the log file to make sure it runs successfully. Please see the attached file for references.

5/ Rollback

SHUTDOWN IMMEDIATE;
STARTUP MOUNT;
ALTER DATABASE ARCHIVELOG;
ALTER DATABASE FLASHBACK ON;
ALTER DATABASE OPEN;

SHUTDOWN IMMEDIATE;
STARTUP MOUNT;
ALTER DATABASE FLASHBACK OFF;
ALTER DATABASE NOARCHIVELOG;
ALTER DATABASE OPEN;

6/ Make checkpoint

SHUTDOWN IMMEDIATE;
STARTUP MOUNT;
ALTER DATABASE ARCHIVELOG;
ALTER DATABASE OPEN;
CREATE RESTORE POINT MANUAL_DB_I15 GUARANTEE FLASHBACK DATABASE;

* NEW_PUMP_I15
* MANUAL_I15

ALTER TABLE FEIJIS  MODIFY (FG0005 VARCHAR2(8 CHAR));
ALTER TABLE FEIJISK MODIFY (FG0005 VARCHAR2(8 CHAR));
ALTER TABLE FEIRUI MODIFY (FN0009 VARCHAR2(8 CHAR));
ALTER TABLE FEIRUI DROP (FN0084, FN0085, FN0086, FN0087);
CREATE OR REPLACE VIEW FEIRUIL4 AS SELECT PF."UNIQUE_NUMBER",PF."LAST_MODIFIED",PF."FN0001",PF."FN0002",PF."FN0003",PF."FN0004",PF."FN0005",PF."FN0006",PF."FN0007",PF."FN0008",PF."FN0009",PF."FN0010",PF."FN0011",PF."FN0012",PF."FN0013",PF."FN0014",PF."FN0015",PF."FN0016",PF."FN0017",PF."FN0018",PF."FN0019",PF."FN0020",PF."FN0021",PF."FN0022",PF."FN0023",PF."FN0024",PF."FN0025",PF."FN0026",PF."FN0027",PF."FN0028",PF."FN0029",PF."FN0030",PF."FN0031",PF."FN0032",PF."FN0033",PF."FN0034",PF."FN0035",PF."FN0036",PF."FN0037",PF."FN0038",PF."FN0039",PF."FN0040",PF."FN0041",PF."FN0042",PF."FN0043",PF."FN0044",PF."FN0045",PF."FN0046",PF."FN0047",PF."FN0048",PF."FN0049",PF."FN0050",PF."FN0051",PF."FN0052",PF."FN0060",PF."FN0061",PF."FN0062",PF."FN0063",PF."FN0064",PF."FN0065",PF."FN0066",PF."FN0067",PF."FN0054",PF."FN0055",PF."FN0056",PF."FN0057",PF."FN0058",PF."FN0068",PF."FN0078",PF."FN0079",PF."FN0080",PF."FN0081",PF."FN0082",PF."FN0083" FROM FEIRUI PF WHERE FN0083 = 0 ORDER BY FN0002 ASC, FN0003 ASC, FN0001 ASC;
ALTER TABLE TENRRQB014 RENAME COLUMN DATA TO TENRRQB014;
UPDATE BGNF1P SET BGN08S = ' ';
COMMIT;
* MANUAL_DB_I15
* MANUAL_DB_I15_AFTER

7/ FLASHBACK

SHUTDOWN IMMEDIATE;
STARTUP MOUNT;
FLASHBACK DATABASE TO RESTORE POINT MANUAL_DB_I15;
ALTER DATABASE OPEN RESETLOGS;


8/ Fix flashback error
http://dba-oracle.com/t_ora_38760_tips.htm

SHUTDOWN IMMEDIATE;
STARTUP NOMOUNT;
ALTER DATABASE FLASHBACK OFF;
STARTUP MOUNT;
DROP RESTORE POINT NEW_PUMP_I15;
DROP RESTORE POINT MANUAL_I15;
DROP RESTORE POINT MANUAL_DB_I15;
ALTER DATABASE OPEN;

1. Shutdown Oracle
2. Startup nomount
3. Turn off flashback database
4. Startup Oracle database instance
5. Recover deleted flashback log files from disk or tape backup. (You should be backing up these critical files.)
6. Restart Oracle instance and enable flashback